<div>
  <% if notifications.any? %>
    <ul class="space-y-2">
      <% notifications.each do |note| %>
        <li class="<%= note.read? ? 'bg-gray-100' : 'bg-yellow-50' %> border rounded p-4 flex justify-between items-center shadow-sm hover:shadow transition">
          <div class="text-sm text-gray-800 max-w-md">
            <%# Emphasize pet name if included in the message %>
            <%= highlight(note.message, Pet.pluck(:name), highlighter: '<strong class="font-semibold text-gray-900">\1</strong>') %>
          </div>

          <% unless note.read? %>
            <%= button_to mark_as_read_notification_path(note),
                method: :patch,
                class: "ml-4 bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold px-3 py-1 rounded-full transition" do %>
              <i class="fas fa-check mr-1"></i> <%= t("dashboard.notifications.mark_as_read") %>
            <% end %>
          <% end %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="text-gray-500"><%= t("dashboard.notifications.none") %></p>
  <% end %>
</div>
